[tox]
envlist = py27, flake8

[testenv]
basepython = python2.7
commands = py.test --cov={envsitepackagesdir}/walnut \
                   --cov-report=term-missing \
                   --cov-config={toxinidir}/coverage.ini \
                   {toxinidir}/test
deps =
    mock
    pytest
    pytest-cov
    pytest-twisted

[testenv:flake8]
deps = flake8
commands =
    flake8 walnut
    flake8 setup.py
